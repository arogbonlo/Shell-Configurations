# .guixrc
# Author: Xero
# guix has a lot of settings, and these only increase
# as more packages are installed.
# This file is my attempt to manage these settings in a sane way without
# bloating my .profile

export GUIX_SUBSTITUTE_URLS="https://ci.guix.info https//:berlin.guixsd.org https//:mirror.hydra.gnu.org"
export DOT_GUIX_PROFILE="$HOME/.guix-profile";
export GUIX_SHARE="$DOT_GUIX_PROFILE/share";
export GUIX_PROFILE="$DOT_GUIX_PROFILE/etc/profile";
export GUIX_LIB="$DOT_GUIX_PROFILE/lib";
export PATH="$HOME/.config/guix/current/bin${PATH:+:}$PATH";
export PATH="$DOT_GUIX_PROFILE/bin${PATH:+:}$PATH";
export PATH="$DOT_GUIX_PROFILE/sbin${PATH:+:}$PATH";
export GUIX_LOCPATH="$DOT_GUIX_PROFILE/lib/locale";
export INFOPATH="$GUIX_SHARE/info${INFOPATH:+:}$INFOPATH";
export GUILE_LOAD_PATH="$GUIX_SHARE/guile/site/2.2${GUILE_LOAD_PATH:+:}$GUILE_LOAD_PATH"
export GUILE_LOAD_COMPILED_PATH="$DOT_GUIX_PROFILE/lib/guile/2.2/site-ccache:$GUIX_SHARE/guile/site/2.2${GUILE_LOAD_COMPILED_PATH:+:}$GUILE_LOAD_COMPILED_PATH"
export COQPATH="$DOT_GUIX_PROFILE/lib/coq/user-contrib${COQPATH:+:}$COQPATH"

# Kicad Settings
export KISYSMOD="$GUIX_SHARE/kicad/modules${KISYSMOD:+:}$KISYSMOD"
export KISYS3DMOD="$GUIX_SHARE/kicad/modules/packages3d${KISYS3DMOD:+:}$KISYS3DMOD"
export KICAD_SYMBOL_DIR="$GUIX_SHARE/kicad/library"
export KICAD_TEMPLATE_DIR="$GUIX_SHARE/kicad/template"

# source $GUIX_PROFILE

for env in $GUIX_PROFILE #$GUIX_LOCPATH $INFOPATH
do
    source $env;
    echo "sourced $env"
done

# Change system locale fomat to suit GUIX
unset LANGUAGE;
unset LC_CTYPE;
LANG=en_AU.UTF-8
